NAME
    find-open-vaccination-appointments - find open vaccination appointments
    at HEB locations

DESCRIPTION
    "find-open-vaccination-appointments" is a script to check HEB for open
    vaccination appointment slots in Texas.

    "find-open-vaccination-appointments" downloads the availability data
    from HEB every 20 seconds, then checks the wanted locations for
    available appointment slots.

    Location, signup URL, and number of availability appointment times and
    slots, are output when an availability is found.

    This script is a rewrite of @georgebohnisch's nodejs script, in Perl.

SYNOPSIS
     find-open-vaccination-appointments [--city <houston>] [--city <cypress>]
                                        [--no-respect]
                                        [--help]

OPTIONS
    --city
        city to get locations from

        multiple city options may be defined

    --no-respect
        get the data every 5 seconds instead of every 20

    --help
        print this dialogue

EXAMPLES
    check for slots in 2 cities every 5 seconds
         $ ./find-open-vaccination-appointments --city houston --city cypress --no-respect
         [info][1614970316] ctrl+c to exit
         [info][1614970316] availability data updated
         [info][1614970316] availability found:
         $VAR1 = {
                   'city' => 'HOUSTON',
                   'latitude' => '29.92325',
                   'longitude' => '-95.19697',
                   'name' => 'Summerwood Market H-E-B',
                   'openAppointmentSlots' => 1,
                   'openTimeslots' => 1,
                   'slotDetails' => [
                                      {
                                        'manufacturer' => 'Moderna',
                                        'openAppointmentSlots' => 1,
                                        'openTimeslots' => 1
                                      }
                                    ],
                   'state' => 'TX',
                   'storeNumber' => 614,
                   'street' => '12680 W.LAKE HOUSTON PKWY 8',
                   'type' => 'store',
                   'url' => 'https://heb.secure.force.com/FlexibleScheduler/FSAppointment?event_ID=[removed]',
                   'zip' => '77044-6087'
                 };
         [info][1614970316] availability found:
         $VAR1 = {
                   'city' => 'CYPRESS',
                   'latitude' => '29.9925',
                   'longitude' => '-95.74599',
                   'name' => 'Fairfield Market H-E-B',
                   'openAppointmentSlots' => 1,
                   'openTimeslots' => 1,
                   'slotDetails' => [
                                      {
                                        'manufacturer' => 'Moderna',
                                        'openAppointmentSlots' => 1,
                                        'openTimeslots' => 1
                                      }
                                    ],
                   'state' => 'TX',
                   'storeNumber' => 656,
                   'street' => '28550 US- 290',
                   'type' => 'store',
                   'url' => 'https://heb.secure.force.com/FlexibleScheduler/FSAppointment?event_ID=[removed]',
                   'zip' => '77433-4288'
                 };
         [info][1614970364] availability data updated
         [info][1614970428] availability data updated
         [info][1614970491] availability data updated

DEPENDENCIES
    Getopt::Long
    Pod::Usage
    HTTP::Tiny
    Try::Tiny
    JSON::Tiny
    Test::Deep::NoTest
    Data::Dumper

